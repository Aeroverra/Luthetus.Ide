@using Luthetus.Common.RazorLib.Dimensions;
@using Luthetus.Common.RazorLib.Panel.Displays
@using Luthetus.Common.RazorLib.Panel.Models;
@using Luthetus.Common.RazorLib.Resize.Displays
@using Luthetus.Ide.RazorLib.EditorCase.Displays
@using Luthetus.Common.RazorLib.StateHasChangedBoundaryCase.Displays

<div class="luth_ide_body"
     style="@BodyElementDimensions.StyleString">

    <StateHasChangedBoundary @ref="_leftPanelStateHasChangedBoundaryComponent">
        <PanelDisplay PanelGroupKey="PanelFacts.LeftPanelRecordKey"
                      AdjacentElementDimensions="_editorElementDimensions"
                      DimensionAttributeKind="DimensionAttributeKind.Width"
                      ReRenderSelfAndAdjacentElementDimensionsFunc="ReRenderLeftPanelAndEditor" />
     </StateHasChangedBoundary>

    <ResizableColumn LeftElementDimensions="@PanelFacts.GetLeftPanelRecord(PanelsCollectionWrap.Value).ElementDimensions"
                     RightElementDimensions="_editorElementDimensions"
                     ReRenderFuncAsync="ReRenderLeftPanelAndEditor" />

    <StateHasChangedBoundary @ref="_editorStateHasChangedBoundaryComponent">
        <EditorDisplay EditorElementDimensions="_editorElementDimensions" />
    </StateHasChangedBoundary>
    
    <ResizableColumn LeftElementDimensions="_editorElementDimensions"
                     RightElementDimensions="@PanelFacts.GetRightPanelRecord(PanelsCollectionWrap.Value).ElementDimensions"
                     ReRenderFuncAsync="ReRenderEditorAndRightPanel" />

    <StateHasChangedBoundary @ref="_rightPanelStateHasChangedBoundaryComponent">
        <PanelDisplay PanelGroupKey="PanelFacts.RightPanelRecordKey"
                      AdjacentElementDimensions="_editorElementDimensions"
                      DimensionAttributeKind="DimensionAttributeKind.Width"
                      ReRenderSelfAndAdjacentElementDimensionsFunc="ReRenderEditorAndRightPanel" />
    </StateHasChangedBoundary>
</div>