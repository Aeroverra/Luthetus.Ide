<div class="luth_ide_integrated-terminal">

    @{
        var startButtonIsDisabled = !_terminalTask.IsCompleted;
        var cancelButtonIsDisabled = _terminalTask.IsCompleted;
    }

    <button @onclick="StartTerminalOnClick"
            class="luth_button"
            disabled=@startButtonIsDisabled>
        Start
    </button>

    <button @onclick="CancelTerminalOnClick"
            class="luth_button"
            disabled=@cancelButtonIsDisabled>
        Cancel
    </button>

    @if (!_terminalTask.IsCompleted)
    {
        <IconLoading/>

        <div>
            <label>_targetFilePath</label>
            <input class="luth_ide_input luth_ide_input-text"
                   style="width: 100%;"
                   placeholder="_targetFilePath"
                   @bind="_integratedTerminal.TargetFilePath"
                   @bind:event="oninput"
                   @onkeydown="HandleOnKeyDown" />
        </div>
        <div>
            <label>_arguments</label>
            <input class="luth_ide_input luth_ide_input-text"
                   style="width: 100%;"
                   placeholder="_arguments"
                   @bind="_integratedTerminal.Arguments"
                   @bind:event="oninput"
                   @onkeydown="HandleOnKeyDown" />
        </div>

        @if (_integratedTerminal.ShowHtmlElementStdInput)
        {
            <div>
                <label>_stdInput</label>
                <input class="luth_ide_input luth_ide_input-text"
                       style="width: 100%;"
                       placeholder="_arguments"
                       @bind="_integratedTerminal.HtmlElementBindStdInput"
                       @bind:event="oninput"
                       @onkeydown="HandleStdInputOnKeyDown" />
            </div>
        }
    }

    <div>
        @{ var sequenceCliWrapIntegratedTerminal = 0; }
        @(new RenderFragment(builder => _integratedTerminal.GetRenderTreeBuilder(
            builder,
            ref sequenceCliWrapIntegratedTerminal)))
    </div>
</div>